import{_ as s,c as a,o as l,O as e}from"./chunks/framework.829c4547.js";const C=JSON.parse('{"title":"Replicating Data","description":"","frontmatter":{},"headers":[],"relativePath":"guide/namespaces/replicating-data.md"}'),n={name:"guide/namespaces/replicating-data.md"},o=e(`<h1 id="replicating-data" tabindex="-1">Replicating Data <a class="header-anchor" href="#replicating-data" aria-label="Permalink to &quot;Replicating Data&quot;">​</a></h1><p>Replicating data to players is an essential part of any game, from player stats to inventory to game state. Red provides multiple ways to replicate data, each tailored for different cases.</p><h2 id="global-replication" tabindex="-1">Global Replication <a class="header-anchor" href="#global-replication" aria-label="Permalink to &quot;Global Replication&quot;">​</a></h2><p>Each namespace has a folder that replicates any descendants to all players. This folder can be accessed by calling <code>Net:Folder()</code> on any namespace.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Server</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">-- Replicates to all players</span></span></code></pre></div><p>You can retrieve the folder on the client by calling <code>Net:Folder()</code>.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Client</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">-- Replicates to all players</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This folder isn&#39;t created until the first call to <code>Net:Folder()</code> on the server. As such, any client calls to this will yield until the first server call.</p></div><p>Attributes can be very useful in combination with this. For example, you could use a <code>CurrentMap</code> attribute on a round based game share the current map with all players.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Server</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">():</span><span style="color:#82AAFF;">SetAttribute</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CurrentMap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Map1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Storing the folder in a variable is against Red conventions. Instead, you should use the <code>Net:Folder()</code> method to get the folder each time you need it.</p></div><p>Global replication is nice, but sometimes you want to replicate only to a single player. This brings us to the next section.</p><h2 id="single-player-replication" tabindex="-1">Single Player Replication <a class="header-anchor" href="#single-player-replication" aria-label="Permalink to &quot;Single Player Replication&quot;">​</a></h2><p>Just as each namespace has a global replication folder, each player has a folder that replicates to that player, and only that player. This folder can be accessed by calling <code>Net:Folder(Player)</code> on any namespace.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Server</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">(Player) </span><span style="color:#676E95;font-style:italic;">-- Replicates to the player</span></span></code></pre></div><p>You can retrieve the folder on the client by calling <code>Net:LocalFolder()</code>.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Client</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">LocalFolder</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">-- Replicates to the local player</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This folder isn&#39;t created until the first call to <code>Net:Folder(Player)</code> on the server. As such, any client calls to this will yield until the first server call.</p></div><p>This folder is secure, the contents of this folder are only replicated to that player. This means that you can store sensitive data, or data that other players just don&#39;t need to know. For example, let&#39;s create an attribute that will tell the player what their role is in a game.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Server</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">IsMurderer</span><span style="color:#A6ACCD;">(Player) </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">(Player):</span><span style="color:#82AAFF;">SetAttribute</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Role</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Murderer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">elseif</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">IsInnocent</span><span style="color:#A6ACCD;">(Player) </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">(Player):</span><span style="color:#82AAFF;">SetAttribute</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Role</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Innocent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">Folder</span><span style="color:#A6ACCD;">(Player):</span><span style="color:#82AAFF;">SetAttribute</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Role</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">None</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span></code></pre></div><h2 id="event-replication" tabindex="-1">Event Replication <a class="header-anchor" href="#event-replication" aria-label="Permalink to &quot;Event Replication&quot;">​</a></h2><p>Roblox replication through instances is slow when it is needed in mass amounts, or when the data updates frequently. As an alternative, you can simply send your data through events, there is a method to this though. Red batches events for you, don&#39;t batch your data into one call to Red.</p><p>As an example, let&#39;s create a function that will replicate enemy positions to every player.</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> Net </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Red.</span><span style="color:#82AAFF;">Server</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NamespaceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SendEnemies</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> _, Enemy </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> EnemyList </span><span style="color:#89DDFF;font-style:italic;">do</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#FFCB6B;">Net</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">FireAll</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">EnemyPosition</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, Enemy.</span><span style="color:#FFCB6B;">Id</span><span style="color:#A6ACCD;">, Enemy.</span><span style="color:#FFCB6B;">Position</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span></code></pre></div><p>Red has no interface for replicating data through events, you&#39;ll need to manage this yourself. This gives you the opportunity to optimize your own data to achieve maximum efficiency.</p><h2 id="what-should-i-use" tabindex="-1">What Should I Use? <a class="header-anchor" href="#what-should-i-use" aria-label="Permalink to &quot;What Should I Use?&quot;">​</a></h2><p>Each option has it&#39;s pros and cons. If your data changes quickly (every frame or so), or you need to replicate huge amounts of data, use events. If your data changes slowly then using instance replication is good.</p>`,27),t=[o];function p(c,r,i,y,D,A){return l(),a("div",null,t)}const d=s(n,[["render",p]]);export{C as __pageData,d as default};
